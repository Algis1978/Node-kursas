<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node penkta pamoka</title>
    <style>

    </style>
</head>
<body onload="myScript ()">
    <h1>Asinchroninis Node darbas</h1>

    <p>Sinchroniškai vykdant programas jos dirba paeiliui. Yra nepraktiška, kai vykdant vieną programą, kitos laukia jos įvykdymo. Asinchroninis darbas leidžia to išvengti, optimaliau panaudoti kompiuterio resursus ir nelaukti vienos programos rezultato tam, kad gauti kitų programų rezultatus. Tai svarbu tais atvejais, kai programų vykdymas užtrunka.</p>
    <p>Asinchroniškai Node gali dirbti dviem būdais:</p>
    <ul>
        <li>naudodama į funkcijos argumentą perduodamas funkcijas, kurios iškviečiamos vėliau kodo eigoje, <em>callback</em> funkcijas;</li>
        <li>naudodama <em>Promise</em> objektą;</li>
    </ul>
    <h2>Darbas su <em>callback</em> funkcijomis:</h2>
    <p>Darbui asinchroniškai pasinaudosime tuo pačiu „fs“ moduliu, kuris turi atitinkamas funkcijas be <em>Sync</em> priedėlio.</p>
    <p>Iš pradžių sukurkime funkcijos kintamąjį, kuris bus panaudotas vėliau. Pavyzdžiui, turintį tik paprastą <em>console.log()</em> operaciją:</p>

    <em>const pabaigosTekstas = () => console.log ("Tai funkcijos operacijos pabaiga");</em>

    <p>Po to sukurkime funkciją, kuri sukurs katalogą asinchroniniu būdu ir <em>callback</em> funkcijos vietoje iškvies kintamąjį „pabaigosTekstas“:</p> 
    
    <em>const testoKatalogas = "TestoKatalogas";<br>
    const asinchroninisKatalogas = (katalogas, callbackFunkcija) => {<br>
        myFs.mkdir(katalogas, callbackFunkcija);<br>
        console.log("Teksto eilutė");}</em>
    <p>Įvykdžius funkciją jūs pastebėsit, kad darbiniame kataloge atsirado katalogas pavadinimu „TestoKatalogas“. Terminale užrašas "Teksto eilutė" atsirado aukščiau užrašo "Tai funkcijos operacijos pabaiga", nes programai prireikė daugiau laiko sukurti katalogą ir iškviesti <em>callbackFunkcija</em>, nei išvesti užrašą "Teksto eilutė" į terminalą.</p>

    <p>Su <em>callback</em> funkcija galima pagauti proceso klaidas. ai skiriasi nuo <em>try...catch</em>. Nesant klaidos JS grąžins <em>null</em> objektą. Sukurkime <em>callback</em> funkciją, kuri išvestų klaidos objektą į konsolę ir sukurkime dar vieną katalogą:</p>

    <em>const callback1 = (err) => {
        console.log(err);
    }
    const testoKatalogas2 = "TestoKatalogas2";
    myFs.mkdir (testoKatalogas2, callback1);</em>

    <p>Paleidus prigramą pirmą kartą bus sukurtas katalogas pavadinimu „TestoKatalogas2“ ir konsolėje pavaizduotas <em>null</em> objektas.</p> Paleidus programą antrą kartą konsolėje bus išmesta klaida.</p>


    <a href="./nodeKursas6.html"><<< Atgal</a>---------<a href="./nodeKursas8.html">Pirmyn >>></a>
</body>
</html>
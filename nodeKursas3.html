<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node trečia pamoka</title>
    <style>

    </style>
</head>
<body onload="myScript ()">
    <h1>Vartotojo moduliai</h1>

    <p>Rašant programas JS kodas greitai išsiplečia ir tampa sunku jį perskaityti vienoje byloje. Yra įprasta rašyti atskiras JS bylas ir susieti vieną su kita. <p>Susikurkite savo JS bylą tame pačiame darbo kataloge. Pavyzdžiui, aš susikursiu bylą <em>mat.js</em>, kurioje bus keletas matematinių funkcijų:</p>
    <em>function sudetis(a, b) {return a+b;}<br>
        function atimtis(a, b) {return a-b;}</em>
        <h2>Duomenų išvedimas</h2>
    <p>Surinkus <em>module.exports</em> savybę ji paruoš priskirtą kintamąjį išvedimui į bylos išorę:</p>
    <em>module.exports=sudetis;<br>
        module.exports=atimtis;</em>
    <p>Kelis kintamuosius galima sublokuoti:</p>
    <em>module.exports={sudetis, atimtis};</em>
        <h2>Duomenų priėmimas</h2>
    <p>Priėmimo byloje <em>pirmas.js</em> nurodau išvestus duomenis priimti su funkcija <em>require</em> ir nurodant kelią iki JS bylos. Atkeipkit dėmesį, kad kelias nurodomas tarp "" tekstinių kabučių.</p>

    <em>const myMat = require("./mat.js");<br>
    console.log( myMat.sudetis(6, 4) );<br>
    console.log( myMat.atimtis(6, 4) );</em>
    <p>Aukštesniame kode kintamajam „myMat“ buvo priskirti bylos <em>mat.js</em> išvesti duomenys, kurie tapo „myMat“ savybėmis. Su <em>console.log()</em> galime pasitikrinti, ar <em>mat.js</em> bylos funkcijos veikia. Pasitikrinkite tai savarankiškai terminale.</p>
    <p>Destruktūrizuojant „myMat“ objektą galima jo savybes išvesti atskirais kintamaisiais:</p>
    <em>const { sudetis, atimtis } = myMat;</em>
        <h2>Kintamųjų pavadinimų keitimas išvedimo byloje</h2>
    <p>Tiek išvedant, tiek priimant galima pakeisti išvedamo ir priimamo kintamojo pavadinimus.</p>
    <p>Išvedimo byloje (<em>mat.js</em>) keičiami kintamųjų pavadinimai:</p>
    <em>module.exports.kitaSudetis=sudetis;<br>
        module.exports.kitaAtimtis=atimtis;</em>
    <p>Išvedimo bylos bloke:</p>
    <em>module.exports={kitaSudetis:sudetis, kitaAtimtis:atimtis}</em>
    <p>Tokiu atveju priėmimo byloje reikia nurodyti naujus kintamųjų pavadinimus.</p>
    <h2>Kintamųjų pavadinimų keitimas įvedimo byloje</h2>
    <p>Įvedimo byloje (<em>pirmas.js</em>) kintamųjų pavadinimus galima pakeisti destruktūrizuojant:</p>
    <em>const { sudetis:treciaSudetis, atimtis:treciaAtimtis } = myMat;</em>
    <p>Savarankiškai suveskite kodą ir patikrinkite jo veikimą terminale:</p>
    <em>console.log( treciaSudetis(6, 4) );<br>
        console.log( treciaAtimtis(6, 4) );</em><br>
    <p>Kintamųjų pavadinimų keitimas naudingas, kai siejant skirtingas JS bylas jose pasitaiko vienodo pavadinimo išvedamų kintamųjų.</p>

    <h2>Duomenų keitimasis pagal ES6</h2>
    <p>2015 m. su ES6 pakeitimu įvesta kita sintaksė duomenų išvedimui ir priėmimui, kuri būtų suderinama tiek su naršyklėmis, tiek su Node paketu.</p>

    Duomenis išvedami su <em>export</em> raktažodžiu. Su raktažodžiu <em>as</em> 
    

    Duomenys priimami su <em>import * as obj from ""</em> eilute, kur * nurodo visus išvedamus kintamuosius kaip objekto "obj" savybes.

    Arba galim panaudoti išskleidimą:
    import {} from "";

    Arba importuoti atskirus kintamuosius:

    import k from "";

    <p>Išvesti galima su <em>default</em> raktažodžiu vieną kintamąjį. Jis bus priimtas su <em>default</em> pavadinimu bendro priėmimo atveju arba su priskirtu pavadinimu atskiru atveju.</p>

    <em>import k from "";</em>

    Tiek išvedimo, tiek priėmimo metu galima pakeisti kintamojo pavadinimą su <em>as</em> raktažodžiu:
     <em>export sudetis as kitaSudetis;<br>
    import { kitasudetis as sudetis }</em>

    <p>ES6 sintaksė leidžia priimti kintamuosius iš cjs sistemos bylos, bet ne atvirkščiai: cjs bylos nepriims kintamųjų iš mjs bylos.</p>
 
    <a href="./nodeKursas2.html"><<< Atgal</a>---------<a href="./nodeKursas4.html">Pirmyn >>></a>

</body>
</html>